<%= render "shared/header" %>

<div class="d-flex flex-column align-items-center m-3 bg-light">
  <nav class="navbar navbar-expand-lg navbar-light bg-light ms-4">
    <h2>点数を選択してください。</h2>
  </nav>
  <div class="container">
    <%= form_with model: @hdsr_patient, id:'hdsr-form', url: patient_hdsr_logs_path, local: true do |f| %>
      <%= render partial: 'shared/error_messages', locals:{ model: @hdsr_patient} %>
      <table class="table table-striped d-table" style=”border:none;”>
        <tbody>
          <tr>
            <th class="fs-4" valign="middle">
              1
            </th>
            <td valign="middle" class="fs-4">
              お年はいくつですか？（2年までの誤差は正解）
            </td>
            <td></td>
            <td valign="middle" class="d-flex flex-column justify-content-center bd-highlight" style="height: 180px;">
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_1]" value="">
                <input class="btn-check" id="answer-1-1" type="radio" value="1" name="hdsr_log_patient[answer_1]" autocomplete="off" checked>
                <label class="btn btn-outline-primary ms-3" for="answer-1-1">0</label>
                <input class="btn-check" id="answer-1-2" type="radio" value="2" name="hdsr_log_patient[answer_1]" autocomplete="off">
                <label class=" btn btn-outline-primary" for="answer-1-2">1</label>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              2
            </td>
            <td class="fs-4">
              今日は何年の何月何日ですか？何曜日ですか？<br>（年月日、曜日が正解でそれぞれ1点ずつ）
            </td>
            <td>
              <div class="mt-2  text-end">年</div>
              <div class="mt-3 mb-2 text-end">月</div>
              <div class="mt-3 mb-2 text-end">日</div>
              <div class="mt-3  text-end">曜日</div>
            </td>
            <td class="d-flex flex-column justify-content-center bd-highlight" style="height: 180px;">
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_2_1]" value="">
                <input class="btn-check" id="answer-2-1-1" type="radio" value="1" name="hdsr_log_patient[answer_2_1]" autocomplete="off" checked>
                <label class="btn btn-outline-primary ms-3" for="answer-2-1-1">0</label>
                <input class="btn-check" id="answer-2-1-2" type="radio" value="2" name="hdsr_log_patient[answer_2_1]" autocomplete="off">
                <label class=" btn btn-outline-primary" for="answer-2-1-2">1</label>
              </div>

              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_2_2]" value="">
                <input class="btn-check" id="answer-2-2-1" type="radio" value="1" name="hdsr_log_patient[answer_2_2]" autocomplete="off" checked>
                <label class="mt-1 btn btn-outline-primary ms-3" for="answer-2-2-1">0</label>
                <input class="btn-check" id="answer-2-2-2" type="radio" value="2" name="hdsr_log_patient[answer_2_2]" autocomplete="off">
                <label class="mt-1 btn btn-outline-primary" for="answer-2-2-2">1</label>
              </div>
              
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_2_3]" value="">
                <input class="btn-check" id="answer-2-3-1" type="radio" value="1" name="hdsr_log_patient[answer_2_3]" autocomplete="off" checked>
                <label class="mt-1 btn btn-outline-primary ms-3" for="answer-2-3-1">0</label>
                <input class="btn-check" id="answer-2-3-2" type="radio" value="2" name="hdsr_log_patient[answer_2_3]" autocomplete="off">
                <label class="mt-1 btn btn-outline-primary" for="answer-2-3-2">1</label>
              </div>

              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_2_4]" value="">
                <input class="btn-check" id="answer-2-4-1" type="radio" value="1" name="hdsr_log_patient[answer_2_4]" autocomplete="off" checked>
                <label class="mt-1 btn btn-outline-primary ms-3" for="answer-2-4-1">0</label>
                <input class="btn-check" id="answer-2-4-2" type="radio" value="2" name="hdsr_log_patient[answer_2_4]" autocomplete="off">
                <label class="mt-1 btn btn-outline-primary" for="answer-2-4-2">1</label>
              </div>
            </td>
          </tr>
          
          <tr>
            <th class="fs-4" valign="middle">
              3
            </th>
            <td valign="middle" class="fs-4" style="width: 45%;">
              私たちが今いるところはどこですか？<br>
              （自発的に出れば2点、5秒おいて家ですか？病院ですか？ 施設ですか？の中から正しい選択をすれば1点）
            </td>
            <td></td>
            <td valign="middle" >
              <div class="d-flex flex-column justify-content-center bd-highlight">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_3]" value="">
                  <input class="btn-check" id="answer-3-1" type="radio" value="1" name="hdsr_log_patient[answer_3]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-3-1">0</label>
                  <input class="btn-check" id="answer-3-2" type="radio" value="2" name="hdsr_log_patient[answer_3]" autocomplete="off">
                  <label class=" btn btn-outline-primary" for="answer-3-2">1</label>
                  <input class="btn-check" id="answer-3-3" type="radio" value="3" name="hdsr_log_patient[answer_3]" autocomplete="off">
                  <label class=" btn btn-outline-primary" for="answer-3-3">2</label>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              4
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              これから言う3つの言葉を言ってみてください。後で聞きますのでよく覚えておいてください。（以下の系列でいずれか1つで、採用した系列を選択する）<br>
              <%= f.collection_radio_buttons(:selection_series, SelectionSeries.all, :id, :name, {checked: 1}, {id:"selection-series"}) %>
            </td>
            <td valign="middle">
              <div class="mt-2 mb-2 text-end">a:</div>
              <div class="mt-3 mb-3 text-end">b:</div>
              <div class="mt-3 mb-3 text-end">c:</div>
            </td>
            <td valign="middle">
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_4_1]" value="">
                  <input class="btn-check" id="answer-4-1-1" type="radio" value="1" name="hdsr_log_patient[answer_4_1]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-4-1-1">0</label>
                  <input class="btn-check" id="answer-4-1-2" type="radio" value="2" name="hdsr_log_patient[answer_4_1]" autocomplete="off">
                  <label class=" btn btn-outline-primary" for="answer-4-1-2">1</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_4_2]" value="">
                  <input class="btn-check" id="answer-4-2-1" type="radio" value="1" name="hdsr_log_patient[answer_4_2]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-4-2-1">0</label>
                  <input class="btn-check" id="answer-4-2-2" type="radio" value="2" name="hdsr_log_patient[answer_4_2]" autocomplete="off">
                  <label class=" btn btn-outline-primary" for="answer-4-2-2">1</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_4_3]" value="">
                  <input class="btn-check" id="answer-4-3-1" type="radio" value="1" name="hdsr_log_patient[answer_4_3]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-4-3-1">0</label>
                  <input class="btn-check" id="answer-4-3-2" type="radio" value="2" name="hdsr_log_patient[answer_4_3]" autocomplete="off">
                  <label class=" btn btn-outline-primary" for="answer-4-3-2">1</label>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              5
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              100から7を順番に引いてください。（100−7は？それからまた７を引くと？ と質問する。最初の答えが不正解の場合打ち切る）
            </td>
            <td valign="middle">
              <div class="mt-2 mb-2 text-end">(93)</div>
              <div class="mt-3 mb-3 text-end">(86)</div>
            </td>
            <td valign="middle">
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_5_1]" value="">
                  <input class="btn-check" id="answer-5-1-1" type="radio" value="1" name="hdsr_log_patient[answer_5_1]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-5-1-1">0</label>
                  <input class="btn-check" id="answer-5-1-2" type="radio" value="2" name="hdsr_log_patient[answer_5_1]" autocomplete="off">
                  <label class="btn btn-outline-primary" for="answer-5-1-2">1</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_5_2]" value="">
                  <input class="btn-check" id="answer-5-2-1" type="radio" value="1" name="hdsr_log_patient[answer_5_2]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3 mt-1" for="answer-5-2-1">0</label>
                  <input class="btn-check" id="answer-5-2-2" type="radio" value="2" name="hdsr_log_patient[answer_5_2]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-5-2-2">1</label>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              6
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              私がこれから言う数字を逆から言ってください。（6-8-2, 3-5-2-9）を逆に言ってもらう。3桁逆唱に失敗したら打ち切る）
            </td>
            <td valign="middle">
              <div class="mt-2 mb-2 text-end">(2-8-6)</div>
              <div class="mt-3 mb-3 text-end">(9-2-5-3)</div>
            </td>
            <td valign="middle">
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_6_1]" value="">
                  <input class="btn-check" id="answer-6-1-1" type="radio" value="1" name="hdsr_log_patient[answer_6_1]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-6-1-1">0</label>
                  <input class="btn-check" id="answer-6-1-2" type="radio" value="2" name="hdsr_log_patient[answer_6_1]" autocomplete="off">
                  <label class="btn btn-outline-primary" for="answer-6-1-2">1</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_6_2]" value="">
                  <input class="btn-check" id="answer-6-2-1" type="radio" value="1" name="hdsr_log_patient[answer_6_2]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3 mt-1" for="answer-6-2-1">0</label>
                  <input class="btn-check" id="answer-6-2-2" type="radio" value="2" name="hdsr_log_patient[answer_6_2]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-6-2-2">1</label>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              7
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              先ほど覚えてもらった言葉をもう一度言ってみてください。<br>
              （自発的に回答があれば2点、もし回答がない場合は以下のヒントを与え正解であれば1点）<br>
              a)植物 b)動物 c)乗り物
            </td>
            <td valign="middle">
              <div class="mt-2 mb-2 text-end">a:</div>
              <div class="mt-3 mb-3 text-end">b:</div>
              <div class="mt-3 mb-3 text-end">c:</div>
            </td>
            <td valign="middle">
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_7_1]" value="">
                  <input class="btn-check" id="answer-7-1-1" type="radio" value="1" name="hdsr_log_patient[answer_7_1]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3" for="answer-7-1-1">0</label>
                  <input class="btn-check" id="answer-7-1-2" type="radio" value="2" name="hdsr_log_patient[answer_7_1]" autocomplete="off">
                  <label class="btn btn-outline-primary" for="answer-7-1-2">1</label>
                  <input class="btn-check" id="answer-7-1-3" type="radio" value="3" name="hdsr_log_patient[answer_7_1]" autocomplete="off">
                  <label class="btn btn-outline-primary" for="answer-7-1-3">2</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight mb-1">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_7_2]" value="">
                  <input class="btn-check" id="answer-7-2-1" type="radio" value="1" name="hdsr_log_patient[answer_7_2]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3 mt-1" for="answer-7-2-1">0</label>
                  <input class="btn-check" id="answer-7-2-2" type="radio" value="2" name="hdsr_log_patient[answer_7_2]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-7-2-2">1</label>
                  <input class="btn-check" id="answer-7-2-3" type="radio" value="3" name="hdsr_log_patient[answer_7_2]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-7-2-3">2</label>
                </div>
              </div>
              <div class="d-flex flex-column bd-highlight">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_7_3]" value="">
                  <input class="btn-check" id="answer-7-3-1" type="radio" value="1" name="hdsr_log_patient[answer_7_3]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3 mt-1" for="answer-7-3-1">0</label>
                  <input class="btn-check" id="answer-7-3-2" type="radio" value="2" name="hdsr_log_patient[answer_7_3]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-7-3-2">1</label>
                  <input class="btn-check" id="answer-7-3-3" type="radio" value="3" name="hdsr_log_patient[answer_7_3]" autocomplete="off">
                  <label class="btn btn-outline-primary mt-1" for="answer-7-3-3">2</label>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              8
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              これから5つの品物を見せます。それを隠しますので何があったかを言ってください。<br>
              （時計、鍵、タバコ、ペン、硬貨など必ず相互に無関係なもの）
            </td>
            <td valign="middle">
            </td>
            <td valign="middle">
              <div class="d-flex flex-column bd-highlight">
                <div class="btn-group row align-items " role="group" aria-label="Basic radio toggle button group">
                  <input type="hidden" name="hdsr_log_patient[answer_8]" value="">
                  <div class="d-flex justify-content-between">
                  <input class="btn-check" id="answer-8-1" type="radio" value="1" name="hdsr_log_patient[answer_8]" autocomplete="off" checked>
                  <label class="btn btn-outline-primary ms-3 flex-fill" for="answer-8-1">0</label>
                  <input class="btn-check" id="answer-8-2" type="radio" value="2" name="hdsr_log_patient[answer_8]" autocomplete="off">
                  <label class="btn btn-outline-primary flex-fill" for="answer-8-2">1</label>
                  <input class="btn-check" id="answer-8-3" type="radio" value="3" name="hdsr_log_patient[answer_8]" autocomplete="off">
                  <label class="btn btn-outline-primary flex-fill" for="answer-8-3">2</label>
                  </div>
                  <div class="d-flex justify-content-between">
                  <input class="btn-check" id="answer-8-4" type="radio" value="4" name="hdsr_log_patient[answer_8]" autocomplete="off">
                  <label class="btn btn-outline-primary ms-3 flex-fill" for="answer-8-4">3</label>
                  <input class="btn-check" id="answer-8-5" type="radio" value="5" name="hdsr_log_patient[answer_8]" autocomplete="off">
                  <label class="btn btn-outline-primary flex-fill" for="answer-8-5">4</label>
                  <input class="btn-check" id="answer-8-6" type="radio" value="6" name="hdsr_log_patient[answer_8]" autocomplete="off">
                  <label class="btn btn-outline-primary flex-fill" for="answer-8-6">5</label>
                  </div>
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td class="fs-4" valign="middle">
              9
            </td>
            <td valign="middle" class="fs-4" style="width: 45%;">
              知っている野菜の名前をできるだけ多く言ってください。（答えた野菜の名前を記入する。途中で詰まり、約10秒待ってもでない場合にはそこで打ち切る）<br>
              0～5＝0点， 6＝1点， 7＝2点， 8＝3点，9＝4点， 10＝5点
            </td>
            <td valign="middle">
              <%= f.text_area :answer_9_memo, class:"hdsr-text", placeholder:"例）キャベツ、にんじんなど"%>
            </td>
            <td valign="middle">
              <div class="btn-group row align-items " role="group" aria-label="Basic radio toggle button group">
                <input type="hidden" name="hdsr_log_patient[answer_9]" value="">
                <div class="d-flex justify-content-between">
                <input class="btn-check" id="answer-9-1" type="radio" value="1" name="hdsr_log_patient[answer_9]" autocomplete="off" checked>
                <label class="btn btn-outline-primary ms-3 flex-fill" for="answer-9-1">0</label>
                <input class="btn-check" id="answer-9-2" type="radio" value="2" name="hdsr_log_patient[answer_9]" autocomplete="off">
                <label class="btn btn-outline-primary flex-fill" for="answer-9-2">1</label>
                <input class="btn-check" id="answer-9-3" type="radio" value="3" name="hdsr_log_patient[answer_9]" autocomplete="off">
                <label class="btn btn-outline-primary flex-fill" for="answer-9-3">2</label>
              </div>
              <div class="d-flex justify-content-between">
                <input class="btn-check" id="answer-9-4" type="radio" value="4" name="hdsr_log_patient[answer_9]" autocomplete="off">
                <label class="btn btn-outline-primary ms-3 flex-fill" for="answer-9-4">3</label>
                <input class="btn-check" id="answer-9-5" type="radio" value="5" name="hdsr_log_patient[answer_9]" autocomplete="off">
                <label class="btn btn-outline-primary flex-fill" for="answer-9-5">4</label>
                <input class="btn-check" id="answer-9-6" type="radio" value="6" name="hdsr_log_patient[answer_9]" autocomplete="off">
                <label class="btn btn-outline-primary flex-fill" for="answer-9-6">5</label>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="shadow-lg p-3 mb-5 bg-body rounded mt-2">
        <p class="text-end fs-4" id="message-box">トータルスコア<span class="fs-2 ms-2" id='total_score'></span></p>
        <p><span class="text-end fs-4" id='message'></span></p>
      </div>
      <div class="d-grid gap-2 col-6 mx-auto">
        <%= f.submit "評価終了", class:"btn btn-primary fs-4", id:"submit" %>
      </div>
    <% end %>
  </div>
</div>
<%= render "shared/footer" %>